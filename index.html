<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Three GLB Viewer</title>
<style>
  html,body{height:100%} body{margin:0;overflow:hidden;background:#111;color:#fff;font-family:system-ui}
  #log{position:absolute;top:10px;left:10px;background:rgba(0,0,0,.6);padding:8px 10px;border-radius:6px;font-size:12px;max-width:320px;max-height:40vh;overflow:auto}
</style>
</head>
<body>
<div id="log">Init…</div>
<script type="module">
import * as THREE from 'https://unpkg.com/three@0.160.0/build/three.module.js';
import { OrbitControls } from 'https://unpkg.com/three@0.160.0/examples/jsm/controls/OrbitControls.js';
import { GLTFLoader } from 'https://unpkg.com/three@0.160.0/examples/jsm/loaders/GLTFLoader.js';

const logDiv=document.getElementById('log'); const log=m=>{logDiv.innerHTML+='<br>'+m; console.log(m);}
const VERSION='v=5';
const modelURL=`https://storage.googleapis.com/threejs232323/sun.glb?${VERSION}`;

const scene=new THREE.Scene(); scene.background=new THREE.Color(0x111111);
const camera=new THREE.PerspectiveCamera(70, innerWidth/innerHeight, .1, 1000); camera.position.set(0,1,3);
const renderer=new THREE.WebGLRenderer({antialias:true}); renderer.outputColorSpace = THREE.SRGBColorSpace;
renderer.setSize(innerWidth,innerHeight); document.body.appendChild(renderer.domElement);
const controls=new OrbitControls(camera,renderer.domElement); controls.enableDamping=true;
scene.add(new THREE.HemisphereLight(0xffffff,0x222233,1));

const loader=new GLTFLoader(); loader.setCrossOrigin('anonymous');

log('Loading: '+modelURL);
let model=null;
loader.load(modelURL,
  gltf=>{ model=gltf.scene; scene.add(model); log('✅ Loaded'); },
  xhr =>{ if (xhr.lengthComputable) log('Progress: '+(xhr.loaded/xhr.total*100).toFixed(1)+'%'); else log('Loaded '+xhr.loaded+' bytes'); },
  err =>{ log('❌ Error: '+(err?.message||err)); }
);

addEventListener('resize', ()=>{ camera.aspect=innerWidth/innerHeight; camera.updateProjectionMatrix(); renderer.setSize(innerWidth,innerHeight); });
(function animate(){ requestAnimationFrame(animate); if(model) model.rotation.y+=0.005; controls.update(); renderer.render(scene,camera); })();
</script>
</body>
</html>
